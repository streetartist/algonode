{
  "last_node_id": 40,
  "last_link_id": 40,
  "nodes": [
    {
      "id": 10,
      "type": "data/vector",
      "pos": [50, 50],
      "size": [200, 60],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [
        { "name": "Vector", "type": "array", "links": [1] }
      ],
      "properties": { "name": "X_pos", "values": "0, 10, 20, 30, 40, 50, 60" },
      "widgets_values": ["X_pos", "0, 10, 20, 30, 40, 50, 60"]
    },
    {
      "id": 11,
      "type": "data/vector",
      "pos": [50, 150],
      "size": [200, 60],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [
        { "name": "Vector", "type": "array", "links": [2] }
      ],
      "properties": { "name": "Y_depth", "values": "0.1, 0.2, 0.5, 0.8, 0.5, 0.2, 0.1" },
      "widgets_values": ["Y_depth", "0.1, 0.2, 0.5, 0.8, 0.5, 0.2, 0.1"]
    },
    {
      "id": 12,
      "type": "math/constant",
      "pos": [50, 250],
      "size": [200, 60],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [
        { "name": "Value", "type": "number", "links": [3] }
      ],
      "properties": { "name": "StairCenter", "value": 30 },
      "widgets_values": ["StairCenter", 30]
    },
    {
      "id": 13,
      "type": "math/constant",
      "pos": [50, 350],
      "size": [200, 60],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [],
      "outputs": [
        { "name": "Value", "type": "number", "links": [4] }
      ],
      "properties": { "name": "AgeYears", "value": 10 },
      "widgets_values": ["AgeYears", 10]
    },
    {
      "id": 14,
      "type": "math/constant",
      "pos": [50, 450],
      "size": [200, 60],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [],
      "outputs": [
        { "name": "Value", "type": "number", "links": [5] }
      ],
      "properties": { "name": "DailyTraffic", "value": 500 },
      "widgets_values": ["DailyTraffic", 500]
    },
    {
      "id": 20,
      "type": "graph/subgraph",
      "pos": [400, 200],
      "size": [300, 140],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [
        { "name": "X", "type": "array", "link": 1 },
        { "name": "Y", "type": "array", "link": 2 },
        { "name": "Center", "type": "number", "link": 3 },
        { "name": "Age", "type": "number", "link": 4 },
        { "name": "Traffic", "type": "number", "link": 5 }
      ],
      "outputs": [
        { "name": "PeakLoc", "type": "number", "links": [21] },
        { "name": "Offset", "type": "number", "links": [22] },
        { "name": "TotalPeople", "type": "number", "links": [23] }
      ],
      "title": "StairWearModel",
      "properties": {},
      "subgraph": {
        "last_node_id": 20,
        "last_link_id": 20,
        "nodes": [
          {
            "id": 1,
            "type": "graph/input",
            "pos": [50, 50],
            "size": [180, 30],
            "flags": {},
            "order": 0,
            "mode": 0,
            "inputs": [],
            "outputs": [
              { "name": "", "type": "", "links": [10] }
            ],
            "properties": { "name": "X", "type": "array" },
            "widgets_values": ["X", "array"]
          },
          {
            "id": 2,
            "type": "graph/input",
            "pos": [50, 100],
            "size": [180, 30],
            "flags": {},
            "order": 1,
            "mode": 0,
            "inputs": [],
            "outputs": [
              { "name": "", "type": "", "links": [11] }
            ],
            "properties": { "name": "Y", "type": "array" },
            "widgets_values": ["Y", "array"]
          },
          {
            "id": 3,
            "type": "graph/input",
            "pos": [50, 200],
            "size": [180, 30],
            "flags": {},
            "order": 2,
            "mode": 0,
            "inputs": [],
            "outputs": [
              { "name": "", "type": "", "links": [12] }
            ],
            "properties": { "name": "Center", "type": "number" },
            "widgets_values": ["Center", "number"]
          },
          {
            "id": 4,
            "type": "graph/input",
            "pos": [50, 250],
            "size": [180, 30],
            "flags": {},
            "order": 3,
            "mode": 0,
            "inputs": [],
            "outputs": [
              { "name": "", "type": "", "links": [13] }
            ],
            "properties": { "name": "Age", "type": "number" },
            "widgets_values": ["Age", "number"]
          },
          {
            "id": 5,
            "type": "graph/input",
            "pos": [50, 300],
            "size": [180, 30],
            "flags": {},
            "order": 4,
            "mode": 0,
            "inputs": [],
            "outputs": [
              { "name": "", "type": "", "links": [14] }
            ],
            "properties": { "name": "Traffic", "type": "number" },
            "widgets_values": ["Traffic", "number"]
          },
          {
            "id": 6,
            "type": "model/polynomial_fitting",
            "pos": [300, 50],
            "size": [210, 60],
            "flags": {},
            "order": 5,
            "mode": 0,
            "inputs": [
              { "name": "X", "type": "array", "link": 10 },
              { "name": "y", "type": "array", "link": 11 }
            ],
            "outputs": [
              { "name": "Coeffs", "type": "array", "links": [15] }
            ],
            "properties": { "degree": 2 },
            "widgets_values": ["Coeffs", 2]
          },
          {
            "id": 7,
            "type": "custom/python_script",
            "pos": [600, 150],
            "size": [300, 200],
            "flags": {},
            "order": 6,
            "mode": 0,
            "title": "CalculateMetrics",
            "inputs": [
              { "name": "coeffs", "type": "", "link": 15 },
              { "name": "center", "type": "", "link": 12 },
              { "name": "age", "type": "", "link": 13 },
              { "name": "traffic", "type": "", "link": 14 }
            ],
            "outputs": [
              { "name": "peak", "type": "", "links": [16] },
              { "name": "offset", "type": "", "links": [17] },
              { "name": "total", "type": "", "links": [18] }
            ],
            "properties": {
              "code": "# Calculate Metrics\ntry:\n    # coeffs is [a, b, c] for ax^2 + bx + c\n    a = coeffs[0]\n    b = coeffs[1]\n    \n    # Peak location x = -b / 2a\n    if abs(a) > 1e-10:\n        peak = -b / (2 * a)\n    else:\n        peak = 0\n        \n    offset = peak - center\n    total = age * traffic * 365\nexcept Exception:\n    peak = 0\n    offset = 0\n    total = 0",
              "inputs": "coeffs, center, age, traffic",
              "outputs": "peak, offset, total"
            },
            "widgets_values": ["CalculateMetrics", "coeffs, center, age, traffic", "peak, offset, total"]
          },
          {
            "id": 8,
            "type": "graph/output",
            "pos": [950, 100],
            "size": [180, 30],
            "flags": {},
            "order": 7,
            "mode": 0,
            "inputs": [
              { "name": "", "type": "", "link": 16 }
            ],
            "outputs": [],
            "properties": { "name": "PeakLoc", "type": "number" },
            "widgets_values": ["PeakLoc", "number"]
          },
          {
            "id": 9,
            "type": "graph/output",
            "pos": [950, 200],
            "size": [180, 30],
            "flags": {},
            "order": 8,
            "mode": 0,
            "inputs": [
              { "name": "", "type": "", "link": 17 }
            ],
            "outputs": [],
            "properties": { "name": "Offset", "type": "number" },
            "widgets_values": ["Offset", "number"]
          },
          {
            "id": 10,
            "type": "graph/output",
            "pos": [950, 300],
            "size": [180, 30],
            "flags": {},
            "order": 9,
            "mode": 0,
            "inputs": [
              { "name": "", "type": "", "link": 18 }
            ],
            "outputs": [],
            "properties": { "name": "TotalPeople", "type": "number" },
            "widgets_values": ["TotalPeople", "number"]
          }
        ],
        "links": [
          [10, 1, 0, 6, 0, "array"],
          [11, 2, 0, 6, 1, "array"],
          [12, 3, 0, 7, 1, "number"],
          [13, 4, 0, 7, 2, "number"],
          [14, 5, 0, 7, 3, "number"],
          [15, 6, 0, 7, 0, "array"],
          [16, 7, 0, 8, 0, "number"],
          [17, 7, 1, 9, 0, "number"],
          [18, 7, 2, 10, 0, "number"]
        ],
        "groups": [],
        "config": {},
        "extra": {},
        "version": 0.4
      }
    },
    {
      "id": 30,
      "type": "io/output",
      "pos": [800, 150],
      "size": [200, 60],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [
        { "name": "In", "type": "", "link": 21 }
      ],
      "outputs": [],
      "properties": { "name": "Final_Peak" },
      "widgets_values": ["Final_Peak"]
    },
    {
      "id": 31,
      "type": "io/output",
      "pos": [800, 250],
      "size": [200, 60],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [
        { "name": "In", "type": "", "link": 22 }
      ],
      "outputs": [],
      "properties": { "name": "Final_Offset" },
      "widgets_values": ["Final_Offset"]
    },
    {
      "id": 32,
      "type": "io/output",
      "pos": [800, 350],
      "size": [200, 60],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [
        { "name": "In", "type": "", "link": 23 }
      ],
      "outputs": [],
      "properties": { "name": "Final_Total" },
      "widgets_values": ["Final_Total"]
    }
  ],
  "links": [
    [1, 10, 0, 20, 0, "array"],
    [2, 11, 0, 20, 1, "array"],
    [3, 12, 0, 20, 2, "number"],
    [4, 13, 0, 20, 3, "number"],
    [5, 14, 0, 20, 4, "number"],
    [21, 20, 0, 30, 0, "number"],
    [22, 20, 1, 31, 0, "number"],
    [23, 20, 2, 32, 0, "number"]
  ],
  "groups": [],
  "config": {},
  "extra": {},
  "version": 0.4
}
