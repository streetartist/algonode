{
  "last_node_id": 18,
  "last_link_id": 18,
  "nodes": [
    {
      "id": 1,
      "type": "data/load_csv",
      "pos": [50, 100],
      "size": [220, 120],
      "title": "Load Data",
      "properties": {
        "path": "D:/algonode/user_project/Risk Assessment Based on the Coupling of Public Health Disaster Hazard and Urban Vulnerability/数据标准化.csv",
        "header": 0,
        "encoding": "utf-8",
        "output_format": "dataframe"
      },
      "outputs": [
        {"name": "data", "type": "dataframe", "links": [1]}
      ]
    },
    {
      "id": 2,
      "type": "data/filter_rows",
      "pos": [320, 100],
      "size": [200, 100],
      "title": "Filter Data Rows",
      "properties": {
        "condition": "index >= 3",
        "reset_index": true,
        "output_format": "dataframe"
      },
      "inputs": [
        {"name": "data", "type": "dataframe", "link": 1}
      ],
      "outputs": [
        {"name": "filtered", "type": "dataframe", "links": [2, 3]}
      ]
    },
    {
      "id": 3,
      "type": "data/select_column",
      "pos": [570, 50],
      "size": [200, 80],
      "title": "Select City Names",
      "properties": {
        "selector": "编号",
        "mode": "name",
        "as_array": true
      },
      "inputs": [
        {"name": "data", "type": "dataframe", "link": 2}
      ],
      "outputs": [
        {"name": "column", "type": "array", "links": [4]}
      ]
    },
    {
      "id": 4,
      "type": "data/indicator_dict",
      "pos": [50, 300],
      "size": [280, 180],
      "title": "Hazard Indicators Definition",
      "properties": {
        "indicators": "65岁及以上人口比例:P:1,贫困人口:P:1,人口密度:P:1,就业密度:P:1,国内游客到达人数:P:1,每万人公共汽车（和无轨电车）数量:P:1,公路客运交通量:P:1,PM2.5浓度:P:1,相对湿度:P:1,平均温度:N:1",
        "descriptions": "65岁及以上人口比例=老年人口占比;贫困人口=贫困人口比例;人口密度=单位面积人口数;就业密度=就业聚集程度;国内游客到达人数=人口流动强度;每万人公共汽车（和无轨电车）数量=公共交通密度;公路客运交通量=交通流动强度;PM2.5浓度=空气污染暴露;相对湿度=环境湿度;平均温度=环境温度"
      },
      "outputs": [
        {"name": "indicator_df", "type": "dataframe", "links": []}
      ]
    },
    {
      "id": 5,
      "type": "data/indicator_dict",
      "pos": [50, 520],
      "size": [280, 180],
      "title": "Vulnerability Indicators Definition",
      "properties": {
        "indicators": "居住密度:N:1,日常生活服务设施密度:P:1,交通设施密度:P:1,建成区绿化覆盖率:N:1,开放空间密度:N:1,失业率:P:1,人均收入:N:1,健康支出占GDP的百分比:N:1,每位居民年平均储蓄存款余额:N:1,应急物资储备支出占GDP的比例（%）（每万元）:N:1,每万人医生数量:N:1,每万人医院床位数:N:1,基本社会保险覆盖率:N:1",
        "descriptions": "居住密度=居住拥挤程度;日常生活服务设施密度=生活便利性;交通设施密度=交通可达性;建成区绿化覆盖率=环境质量;开放空间密度=空间资源;失业率=经济脆弱性;人均收入=经济能力;健康支出占GDP的百分比=医疗投入;每位居民年平均储蓄存款余额=经济储备;应急物资储备支出占GDP的比例（%）（每万元）=应急能力;每万人医生数量=医疗资源;每万人医院床位数=医疗容量;基本社会保险覆盖率=社会保障"
      },
      "outputs": [
        {"name": "indicator_df", "type": "dataframe", "links": []}
      ]
    },
    {
      "id": 6,
      "type": "data/weighted_score",
      "pos": [570, 200],
      "size": [280, 150],
      "title": "Calculate Hazard Score",
      "properties": {
        "indicators": "65岁及以上人口比例:P:1,贫困人口:P:1,人口密度:P:1,就业密度:P:1,国内游客到达人数:P:1,每万人公共汽车（和无轨电车）数量:P:1,公路客运交通量:P:1,PM2.5浓度:P:1,相对湿度:P:1,平均温度:N:1",
        "normalize": "minmax",
        "add_normalized_cols": true,
        "score_column": "Hazard_Score",
        "output_format": "dataframe"
      },
      "inputs": [
        {"name": "data", "type": "dataframe", "link": 3}
      ],
      "outputs": [
        {"name": "result", "type": "dataframe", "links": [5]}
      ]
    },
    {
      "id": 7,
      "type": "data/weighted_score",
      "pos": [900, 200],
      "size": [280, 150],
      "title": "Calculate Vulnerability Score",
      "properties": {
        "indicators": "居住密度:N:1,日常生活服务设施密度:P:1,交通设施密度:P:1,建成区绿化覆盖率:N:1,开放空间密度:N:1,失业率:P:1,人均收入:N:1,健康支出占GDP的百分比:N:1,每位居民年平均储蓄存款余额:N:1,应急物资储备支出占GDP的比例（%）（每万元）:N:1,每万人医生数量:N:1,每万人医院床位数:N:1,基本社会保险覆盖率:N:1",
        "normalize": "minmax",
        "add_normalized_cols": true,
        "score_column": "Vulnerability_Score",
        "output_format": "dataframe"
      },
      "inputs": [
        {"name": "data", "type": "dataframe", "link": 5}
      ],
      "outputs": [
        {"name": "result", "type": "dataframe", "links": [6, 7, 8, 18]}
      ]
    },
    {
      "id": 8,
      "type": "data/select_column",
      "pos": [1230, 150],
      "size": [200, 80],
      "title": "Extract Hazard Score",
      "properties": {
        "selector": "Hazard_Score",
        "mode": "name",
        "as_array": true
      },
      "inputs": [
        {"name": "data", "type": "dataframe", "link": 6}
      ],
      "outputs": [
        {"name": "column", "type": "array", "links": [9]}
      ]
    },
    {
      "id": 9,
      "type": "data/select_column",
      "pos": [1230, 260],
      "size": [200, 80],
      "title": "Extract Vulnerability Score",
      "properties": {
        "selector": "Vulnerability_Score",
        "mode": "name",
        "as_array": true
      },
      "inputs": [
        {"name": "data", "type": "dataframe", "link": 7}
      ],
      "outputs": [
        {"name": "column", "type": "array", "links": [10]}
      ]
    },
    {
      "id": 10,
      "type": "data/normalize",
      "pos": [1480, 150],
      "size": [180, 80],
      "title": "Normalize U1",
      "properties": {
        "method": "minmax"
      },
      "inputs": [
        {"name": "data", "type": "array", "link": 9}
      ],
      "outputs": [
        {"name": "normalized", "type": "array", "links": [11, 13, 15]}
      ]
    },
    {
      "id": 11,
      "type": "data/normalize",
      "pos": [1480, 260],
      "size": [180, 80],
      "title": "Normalize U2",
      "properties": {
        "method": "minmax"
      },
      "inputs": [
        {"name": "data", "type": "array", "link": 10}
      ],
      "outputs": [
        {"name": "normalized", "type": "array", "links": [12, 14, 16]}
      ]
    },
    {
      "id": 12,
      "type": "eval/coupling",
      "pos": [1700, 200],
      "size": [200, 100],
      "title": "Coupling Coordination",
      "properties": {
        "alpha": 0.5
      },
      "inputs": [
        {"name": "sysA", "type": "any", "link": 11},
        {"name": "sysB", "type": "any", "link": 12}
      ],
      "outputs": [
        {"name": "D", "type": "number", "links": [17]}
      ]
    },
    {
      "id": 13,
      "type": "io/output",
      "pos": [1700, 350],
      "size": [180, 80],
      "title": "U1 Hazard Output",
      "properties": {
        "name": "U1_hazard"
      },
      "inputs": [
        {"name": "value", "type": "any", "link": 13}
      ]
    },
    {
      "id": 14,
      "type": "io/output",
      "pos": [1700, 450],
      "size": [180, 80],
      "title": "U2 Vulnerability Output",
      "properties": {
        "name": "U2_vulnerability"
      },
      "inputs": [
        {"name": "value", "type": "any", "link": 14}
      ]
    },
    {
      "id": 15,
      "type": "io/output",
      "pos": [1950, 200],
      "size": [180, 80],
      "title": "D Coupling Output",
      "properties": {
        "name": "D_coupling_coordination"
      },
      "inputs": [
        {"name": "value", "type": "any", "link": 17}
      ]
    },
    {
      "id": 16,
      "type": "viz/plot_scatter",
      "pos": [1950, 350],
      "size": [200, 100],
      "title": "U1 vs U2 Scatter",
      "properties": {
        "title": "Hazard (U1) vs Vulnerability (U2)"
      },
      "inputs": [
        {"name": "X", "type": "array", "link": 15},
        {"name": "Y", "type": "array", "link": 16}
      ]
    },
    {
      "id": 17,
      "type": "io/output",
      "pos": [820, 50],
      "size": [180, 80],
      "title": "City Names Output",
      "properties": {
        "name": "city_names"
      },
      "inputs": [
        {"name": "value", "type": "any", "link": 4}
      ]
    },
    {
      "id": 18,
      "type": "io/output",
      "pos": [1230, 400],
      "size": [200, 80],
      "title": "Full DataFrame Output",
      "properties": {
        "name": "coupling_database"
      },
      "inputs": [
        {"name": "value", "type": "any", "link": 18}
      ]
    }
  ],
  "links": [
    [1, 1, 0, 2, 0, "dataframe"],
    [2, 2, 0, 3, 0, "dataframe"],
    [3, 2, 0, 6, 0, "dataframe"],
    [4, 3, 0, 17, 0, "array"],
    [5, 6, 0, 7, 0, "dataframe"],
    [6, 7, 0, 8, 0, "dataframe"],
    [7, 7, 0, 9, 0, "dataframe"],
    [8, 7, 0, 8, 0, "dataframe"],
    [9, 8, 0, 10, 0, "array"],
    [10, 9, 0, 11, 0, "array"],
    [11, 10, 0, 12, 0, "array"],
    [12, 11, 0, 12, 1, "array"],
    [13, 10, 0, 13, 0, "array"],
    [14, 11, 0, 14, 0, "array"],
    [15, 10, 0, 16, 0, "array"],
    [16, 11, 0, 16, 1, "array"],
    [17, 12, 0, 15, 0, "number"],
    [18, 7, 0, 18, 0, "dataframe"]
  ],
  "groups": [
    {
      "title": "Task 1: Coupling Feature Database Construction",
      "bounding": [30, 30, 2200, 600],
      "color": "#a0d8ef"
    }
  ],
  "config": {},
  "extra": {
    "description": "Task 1: Design hazard indicators and urban vulnerability indicators, construct coupling feature database",
    "author": "AlgoNode",
    "version": "1.3"
  }
}
